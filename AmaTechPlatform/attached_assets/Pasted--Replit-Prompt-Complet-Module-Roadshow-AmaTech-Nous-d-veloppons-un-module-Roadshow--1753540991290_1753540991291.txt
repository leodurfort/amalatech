**üí° Replit Prompt Complet ‚Äî Module Roadshow (AmaTech)**

Nous d√©veloppons un **module Roadshow** pour un outil interne de banque d'investissement, utilis√© dans le cadre de projets M&A. Chaque ligne repr√©sente une contrepartie. Il ne s'agit pas d'un Kanban, mais d'une **tableau tabulaire**.

Le module doit comporter les √©l√©ments suivants :

---

## üìä Fonctionnalit√©s attendues

Chaque ligne affiche les colonnes suivantes :

1. **Statut** de la contrepartie :
   - Live (en vert)
   - En attente de retour (gris clair)
   - No-go (gris fonc√©)
   - Le tri par d√©faut affiche : Live > Waiting > No-go

2. **Nom de la contrepartie**
3. **Owner** : un membre de l'√©quipe projet (reli√© √† la table user)
4. **Contact de la contrepartie** : nom, pr√©nom, email
5. **Suivi des interactions** :
   - Affiche la derni√®re interaction (texte + date)
   - Clic pour afficher l'historique + ajouter une note (tr√®s simple)
6. **Teaser** : date ou vide
7. **Relance** :
   - Date de la derni√®re relance
   - Possibilit√© d'en ajouter plusieurs (relance #1, #2...)
   - Affiche la derni√®re, clic pour voir tout
8. **Prochaine relance** :
   - G√©n√©r√©e automatiquement (+5j de la derni√®re relance)
   - Modifiable
   - Doit √™tre stock√©e pour appara√Ætre dans la to-do du owner
9. **NDA / IM / BP** : date ou vide
10. **Envois compl√©mentaires** : multiples dates (affiche la derni√®re, clic pour voir tout)
11. **Meetings** : multiples dates (affiche la derni√®re, clic pour voir tout)
12. **IOI** : date ou vide
13. **Phase 2** : bool√©en (ok / pas ok)
14. Si Phase 2 ok :
    - **Dataroom** : date ou vide
    - **Binding Offer** : date ou vide

---

## üìä Donn√©es √† persister (PostgreSQL via Drizzle ORM)

### `roadshow_counterparty`
```ts
id               serial primary key
project_id       uuid references project(id)
name             text not null
status           enum('Live', 'Waiting', 'No-go') default 'Waiting'
owner_id         uuid references user(id)
created_at       timestamp default now()
updated_at       timestamp default now()
```

### `roadshow_contact`
```ts
id               serial primary key
counterparty_id  integer references roadshow_counterparty(id)
full_name        text
email            text
```

### `roadshow_event`
```ts
id               serial primary key
counterparty_id  integer references roadshow_counterparty(id)
type             enum('interaction', 'teaser', 'followup', 'nda', 'im', 'bp', 'extra_send', 'meeting', 'ioi', 'dataroom', 'binding')
label            text  -- ex: "Relance #2"
content          text  -- notes libres
event_date       date not null
created_by       uuid references user(id)
created_at       timestamp default now()
```

### `roadshow_phase2`
```ts
id               serial primary key
counterparty_id  integer references roadshow_counterparty(id)
phase2_ok        boolean default false
dataroom_sent_at date
binding_offer_at date
```

---

## üöÄ Backend Express.js (Node.js)

Endpoints √† impl√©menter :
```ts
GET    /projects/:id/roadshow
POST   /projects/:id/roadshow
PATCH  /roadshow/:counterpartyId
POST   /roadshow/:counterpartyId/contact
POST   /roadshow/:counterpartyId/event
GET    /roadshow/:counterpartyId/events
```

> Tous les endpoints doivent √™tre reli√©s √† Drizzle et v√©rifier que les donn√©es sont persist√©es proprement. Utiliser `zod` pour valider les entr√©es.

---

## üñåÔ∏è Frontend React + Tailwind

1. **Table principale**
   - Table tri√©e par statut
   - Colonne statut avec pastille de couleur
   - Colonne "owner" avec autocompl√©tion
   - Colonne "derni√®re interaction" (clic pour historique + ajout)
   - Colonne relance, prochaine relance (modifiables)
   - Colonne NDA / IM / BP avec date picker inline
   - Affichage conditionnel des colonnes Phase 2 si `phase2_ok = true`

2. **Drawer ou Modale par contrepartie**
   - Formulaire pour modifier tous les champs
   - Historique complet des √©v√©nements
   - Possibilit√© d'ajouter un √©v√©nement (teaser, meeting, etc.)

---

## üìÖ G√©n√©rateur de R√©sum√©s Hebdo (ex : Semaine 51)

- Endpoint : `GET /projects/:id/roadshow/summary?week=51`
- G√©n√®re une synth√®se comme :
```text
R√©sum√© Semaine 51 :
- Envoi d‚Äôun IM √† XXX, XXX, XXX
- Envoi d‚Äôun teaser √† XX, XX
- 3 relances effectu√©es : Groupe F, Skymagic...
```
- Utilis√© dans le module Documents > Toolbox > G√©n√©rateur de process update

---

‚úÖ Merci de tout d√©velopper dans un esprit robuste, clair et sobre, orient√© UX banque d‚Äôinvestissement. Pas de wording ludique, pas de gimmicks. Priorit√© √† la performance, lisibilit√©, et solidit√© de la persistance des donn√©es.
