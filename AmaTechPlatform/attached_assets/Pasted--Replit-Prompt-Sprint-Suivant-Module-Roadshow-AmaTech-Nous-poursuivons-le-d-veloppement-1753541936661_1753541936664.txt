**ğŸ’¡ Replit Prompt Sprint Suivant â€” Module Roadshow (AmaTech)**

Nous poursuivons le dÃ©veloppement du module Roadshow sur la base du prompt initial dÃ©jÃ  en place. Ce sprint se concentre sur **lâ€™enrichissement fonctionnel de la vue tabulaire**.

---

## âœ… Objectifs de ce sprint (complÃ©ment du module dÃ©jÃ  en place)

### 1. ğŸ“‡ Ajout / Ã©dition de contact contrepartie
- Affichage dâ€™une icÃ´ne âœ‰ï¸ (dÃ©jÃ  prÃ©sente)
- Clic ouvre une **modale** ou champ inline :
  - PrÃ©nom, Nom, Email
  - Enregistrement dans la table `roadshow_contact`

### 2. ğŸ“ Suivi des interactions (notes)
- Colonne "DerniÃ¨re interaction" : affiche la derniÃ¨re note + date
- Clic â†’ **Drawer** avec :
  - Historique chronologique
  - Champ de saisie pour ajouter une note avec date
  - Sauvegarde dans `roadshow_event` type = `interaction`

### 3. ğŸ“¤ Teaser
- Colonne avec **input date inline**
- CrÃ©ation dâ€™un Ã©vÃ©nement `teaser` dans `roadshow_event`
- On ne gÃ¨re quâ€™un seul teaser par contrepartie (loggÃ© mais pas multi)

### 4. ğŸ” Relances (multiples)
- Affiche la **derniÃ¨re relance (#n)** avec date
- Clic ouvre modale avec historique
- PossibilitÃ© dâ€™ajouter une nouvelle relance (label automatique : Relance #1, #2, etc.)
- Ã‰vÃ©nement `followup` dans `roadshow_event`

### 5. ğŸ“† Prochaine relance
- CalculÃ©e automatiquement = `last followup + 5j`
- Editable (date picker inline)
- EnregistrÃ©e dans `roadshow_counterparty.next_followup_date`
- Apparaitra dans la To-do list du `owner`

### 6. ğŸ“ Dates sÃ©parÃ©es pour : NDA / IM / BP
- Trois colonnes distinctes avec **date pickers inline**
- Chaque changement crÃ©e un `roadshow_event` avec type correspondant

### 7. ğŸ“¨ Envois complÃ©mentaires & Meetings (multiples)
- Comme relances : afficher derniÃ¨re date, clic pour historique + ajout
- StockÃ©s dans `roadshow_event` avec type `extra_send` ou `meeting`

### 8. ğŸš© Phase 2 + Dataroom / Binding Offer
- Colonne "Phase 2" = toggle (boolÃ©en)
- Si true, affichage de 2 champs supplÃ©mentaires (date pickers) :
  - Dataroom envoyÃ©e (`dataroom_sent_at`)
  - Offre binding (`binding_offer_at`)
- StockÃ©s dans `roadshow_phase2`

### 9. ğŸ“Š RÃ©sumÃ© hebdo (gÃ©nÃ©ration automatique)
- Endpoint REST : `GET /projects/:id/roadshow/summary?week=30`
- Backend regroupe les `roadshow_event` de la semaine par type
- Frontend affiche synthÃ¨se comme :
```text
RÃ©sumÃ© Semaine 30 :
- Envoi dâ€™un teaser Ã  A, B
- Envoi dâ€™un NDA Ã  A, C
- 2 relances effectuÃ©es (B, C)
```

---

## ğŸ§± Backend / Drizzle : ComplÃ©ments

### Table `roadshow_counterparty`
```ts
next_followup_date date
```

### Table `roadshow_event` (type Ã©tendu)
```ts
type: enum('interaction', 'teaser', 'followup', 'nda', 'im', 'bp', 'extra_send', 'meeting', 'ioi', 'dataroom', 'binding')
```

### Table `roadshow_phase2` (inchangÃ©e si dÃ©jÃ  crÃ©Ã©e)
```ts
phase2_ok boolean
dataroom_sent_at date
binding_offer_at date
```

---

## ğŸ–¥ï¸ Frontend React : Comportements Ã  implÃ©menter

| Colonne             | Type        | UX                                              |
|---------------------|-------------|--------------------------------------------------|
| Contact              | Click        | Modale pour ajouter/modifier nom + email         |
| DerniÃ¨re interaction | Click        | Drawer historique + ajout note                  |
| Teaser               | Date picker | Inline                                           |
| Relance              | Date picker | DerniÃ¨re relance affichÃ©e, clic â†’ modale        |
| Prochaine relance    | Date picker | CalculÃ©e, editable, liÃ©e Ã  to-do du owner        |
| NDA / IM / BP        | Date picker | Champs sÃ©parÃ©s, inline                          |
| Meetings / ComplÃ©ments | Date picker | Dernier + clic pour historique + ajout         |
| Phase 2              | Toggle      | Si true â†’ dataroom + binding offer              |

---

ğŸ¯ Lâ€™objectif est de finaliser une **vue Roadshow complÃ¨te et vivante**, reflÃ©tant fidÃ¨lement lâ€™activitÃ© des contreparties, avec historique, rÃ©sumÃ© hebdo, et logique M&A simple mais complÃ¨te.
